<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>宠物领养系统 - 在线问诊</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <style>
      /* 页面特定样式 */
      .consultation-intro {
        background-color: var(--white);
        padding: 30px;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        margin-bottom: 30px;
      }

      .service-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 30px;
        margin: 40px 0;
      }

      .service-card {
        background-color: var(--white);
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        padding: 30px;
        text-align: center;
        transition: transform 0.3s;
      }

      .service-card:hover {
        transform: translateY(-10px);
      }

      .service-icon {
        width: 80px;
        height: 80px;
        background-color: #e8f5e9;
        color: var(--primary-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
        margin: 0 auto 20px;
      }

      .service-title {
        font-size: 20px;
        margin-bottom: 15px;
        color: var(--primary-color);
      }

      .service-price {
        font-size: 24px;
        font-weight: bold;
        margin: 15px 0;
      }

      .doctor-list {
        margin: 40px 0;
      }

      .doctor-card {
        display: flex;
        background-color: var(--white);
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        margin-bottom: 20px;
        overflow: hidden;
      }

      .doctor-image {
        width: 150px;
        height: 150px;
        object-fit: cover;
      }

      .doctor-info {
        padding: 20px;
        flex: 1;
      }

      .doctor-name {
        font-size: 20px;
        margin-bottom: 5px;
      }

      .doctor-specialty {
        color: var(--primary-color);
        margin-bottom: 10px;
      }

      .doctor-description {
        margin-bottom: 15px;
        color: #666;
      }

      .doctor-stats {
        display: flex;
        gap: 20px;
        margin-top: 15px;
        color: #666;
        font-size: 14px;
      }

      .appointment-form {
        background-color: var(--white);
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        padding: 30px;
        margin-top: 40px;
      }

      .form-row {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .form-row .form-group {
        flex: 1;
        min-width: 250px;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }

      .modal.show {
        display: flex;
      }

      .modal-content {
        background-color: var(--white);
        border-radius: var(--border-radius);
        width: 90%;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
        padding: 30px;
        position: relative;
      }

      .close-modal {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
      }

      .accordion {
        margin-top: 40px;
      }

      .accordion-item {
        border: 1px solid #eee;
        border-radius: var(--border-radius);
        margin-bottom: 15px;
        overflow: hidden;
      }

      .accordion-header {
        padding: 15px 20px;
        background-color: #f9f9f9;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .accordion-header h3 {
        margin: 0;
        font-size: 18px;
      }

      .accordion-body {
        padding: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
      }

      .accordion-body-inner {
        padding: 20px;
      }

      .accordion-item.active .accordion-body {
        max-height: 500px;
      }

      @media (max-width: 768px) {
        .doctor-card {
          flex-direction: column;
        }

        .doctor-image {
          width: 100%;
          height: 200px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="container">
        <nav>
          <div class="logo">宠爱有家</div>
          <ul class="nav-links">
            <li><a href="../index.html">首页</a></li>
            <li><a href="pets.html">宠物领养</a></li>
            <li><a href="forum.html">社区论坛</a></li>
            <li><a href="consultation.html" class="active">在线问诊</a></li>
            <li><a href="about.html">关于我们</a></li>
            <li><a href="login.html" class="btn">登录/注册</a></li>
          </ul>
          <div class="menu-toggle">
            <i class="bi bi-list"></i>
          </div>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container">
      <div class="consultation-intro">
        <h1 class="page-title">在线宠物问诊</h1>
        <p>
          无需出门，专业兽医在线解答您的宠物健康问题，提供专业指导，快速响应紧急情况。
        </p>
      </div>

      <!-- Services -->
      <h2 class="section-title">我们的服务</h2>
      <div class="service-grid">
        <div class="service-card">
          <div class="service-icon">
            <i class="bi bi-chat-dots"></i>
          </div>
          <h3 class="service-title">图文咨询</h3>
          <p>上传宠物症状照片，兽医在线回复，解答日常健康问题</p>
          <div class="service-price">¥39.9 / 次</div>
          <button class="btn" data-modal="appointment-modal">立即咨询</button>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="bi bi-telephone"></i>
          </div>
          <h3 class="service-title">电话问诊</h3>
          <p>与兽医直接通话，详细咨询宠物健康情况，获取专业建议</p>
          <div class="service-price">¥99 / 30分钟</div>
          <button class="btn" data-modal="appointment-modal">立即咨询</button>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="bi bi-camera-video"></i>
          </div>
          <h3 class="service-title">视频问诊</h3>
          <p>面对面视频沟通，兽医可直观观察宠物状态，提供精准指导</p>
          <div class="service-price">¥159 / 30分钟</div>
          <button class="btn" data-modal="appointment-modal">立即咨询</button>
        </div>
      </div>

      <!-- Doctor List -->
      <h2 class="section-title">专业兽医团队</h2>
      <div class="doctor-list">
        <div class="doctor-card">
          <img
            src="https://placehold.co/300x300/4CAF50/FFFFFF?text=兽医-王医生"
            alt="兽医头像"
            class="doctor-image"
          />
          <div class="doctor-info">
            <h3 class="doctor-name">王小明 兽医师</h3>
            <div class="doctor-specialty">
              擅长：犬猫内科、皮肤病、消化系统疾病
            </div>
            <p class="doctor-description">
              毕业于中国农业大学兽医学院，执业10年，曾在北京多家宠物医院担任主治医师。温和耐心，擅长与宠物沟通，对常见皮肤病和消化系统疾病有丰富的诊疗经验。
            </p>
            <div class="doctor-stats">
              <div><i class="bi bi-star-fill"></i> 4.9分（389次评价）</div>
              <div><i class="bi bi-chat-dots"></i> 咨询量 2,103</div>
              <div><i class="bi bi-check-circle"></i> 回复率 98%</div>
            </div>
            <button
              class="btn"
              style="margin-top: 15px"
              data-modal="appointment-modal"
            >
              预约咨询
            </button>
          </div>
        </div>

        <div class="doctor-card">
          <img
            src="https://placehold.co/300x300/2196F3/FFFFFF?text=兽医-李医生"
            alt="兽医头像"
            class="doctor-image"
          />
          <div class="doctor-info">
            <h3 class="doctor-name">李雨晴 兽医师</h3>
            <div class="doctor-specialty">
              擅长：猫科疾病、急诊救护、营养调理
            </div>
            <p class="doctor-description">
              毕业于华中农业大学，拥有美国兽医学会认证，专注猫科疾病研究，在急诊救护方面有独特见解。对猫科动物行为学有深入研究，能提供专业的猫咪行为和饮食调理建议。
            </p>
            <div class="doctor-stats">
              <div><i class="bi bi-star-fill"></i> 4.8分（256次评价）</div>
              <div><i class="bi bi-chat-dots"></i> 咨询量 1,876</div>
              <div><i class="bi bi-check-circle"></i> 回复率 95%</div>
            </div>
            <button
              class="btn"
              style="margin-top: 15px"
              data-modal="appointment-modal"
            >
              预约咨询
            </button>
          </div>
        </div>

        <div class="doctor-card">
          <img
            src="https://placehold.co/300x300/FF9800/FFFFFF?text=兽医-张医生"
            alt="兽医头像"
            class="doctor-image"
          />
          <div class="doctor-info">
            <h3 class="doctor-name">张大山 兽医师</h3>
            <div class="doctor-specialty">擅长：犬类骨科、手术、疫苗接种</div>
            <p class="doctor-description">
              从业15年，专注于犬类骨科疾病治疗，擅长各类宠物外科手术。拥有丰富的临床经验，对犬类常见疾病的预防和治疗有系统化的诊疗方案。多次参与国际兽医学术交流活动。
            </p>
            <div class="doctor-stats">
              <div><i class="bi bi-star-fill"></i> 4.9分（412次评价）</div>
              <div><i class="bi bi-chat-dots"></i> 咨询量 2,458</div>
              <div><i class="bi bi-check-circle"></i> 回复率 97%</div>
            </div>
            <button
              class="btn"
              style="margin-top: 15px"
              data-modal="appointment-modal"
            >
              预约咨询
            </button>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <h2 class="section-title">常见问题</h2>
      <div class="accordion">
        <div class="accordion-item">
          <div class="accordion-header">
            <h3>在线问诊能解决哪些问题？</h3>
            <i class="bi bi-chevron-down"></i>
          </div>
          <div class="accordion-body">
            <div class="accordion-body-inner">
              <p>
                在线问诊适合解决宠物的常见健康问题、行为咨询、日常护理、饮食咨询、简单皮肤问题评估等。但对于紧急状况（如中毒、严重外伤、持续呕吐、呼吸困难等），建议立即前往线下宠物医院就诊。
              </p>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <div class="accordion-header">
            <h3>如何准备在线问诊？</h3>
            <i class="bi bi-chevron-down"></i>
          </div>
          <div class="accordion-body">
            <div class="accordion-body-inner">
              <p>为了提高在线问诊的效率，建议您：</p>
              <ol>
                <li>提前准备宠物的基本信息（年龄、品种、性别、是否绝育）</li>
                <li>记录宠物近期的症状、行为变化、饮食情况</li>
                <li>准备清晰的照片或视频，展示宠物的症状或异常行为</li>
                <li>整理宠物的疫苗接种记录和既往病史</li>
              </ol>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <div class="accordion-header">
            <h3>预约后多久能得到回复？</h3>
            <i class="bi bi-chevron-down"></i>
          </div>
          <div class="accordion-body">
            <div class="accordion-body-inner">
              <p>
                图文咨询通常在1-12小时内回复，具体取决于医生的排班情况。电话和视频问诊需要预约具体时间，您可以选择当天或未来几天内的可用时段。如遇紧急情况，可以选择"加急咨询"服务（额外收费），获得30分钟内的优先回复。
              </p>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <div class="accordion-header">
            <h3>是否可以开具处方？</h3>
            <i class="bi bi-chevron-down"></i>
          </div>
          <div class="accordion-body">
            <div class="accordion-body-inner">
              <p>
                是的，我们的兽医可以根据问诊情况开具电子处方。但请注意，某些药物可能需要线下检查后才能开具。电子处方可以在我们合作的宠物药店或线上药房使用。
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Process Flow -->
      <h2 class="section-title">问诊流程</h2>
      <div class="process-steps">
        <div class="step">
          <div class="step-icon"><i class="bi bi-1-circle"></i></div>
          <h3>选择服务</h3>
          <p>选择图文、电话或视频问诊服务，并选择专业兽医</p>
        </div>
        <div class="step">
          <div class="step-icon"><i class="bi bi-2-circle"></i></div>
          <h3>填写信息</h3>
          <p>填写宠物信息和症状描述，上传相关照片或视频</p>
        </div>
        <div class="step">
          <div class="step-icon"><i class="bi bi-3-circle"></i></div>
          <h3>支付费用</h3>
          <p>选择支付方式完成支付，获得问诊资格</p>
        </div>
        <div class="step">
          <div class="step-icon"><i class="bi bi-4-circle"></i></div>
          <h3>等待问诊</h3>
          <p>等待兽医回复或在预约时间进行电话/视频咨询</p>
        </div>
        <div class="step">
          <div class="step-icon"><i class="bi bi-5-circle"></i></div>
          <h3>获得诊疗</h3>
          <p>获得专业建议、治疗方案或电子处方</p>
        </div>
      </div>
    </main>

    <!-- Appointment Modal -->
    <div id="appointment-modal" class="modal">
      <div class="modal-content">
        <button class="close-modal"><i class="bi bi-x"></i></button>
        <h2>预约在线问诊</h2>
        <form class="appointment-form">
          <h3>基本信息</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="pet-name"
                >宠物名称 <span class="required">*</span></label
              >
              <input type="text" id="pet-name" name="pet_name" required />
            </div>
            <div class="form-group">
              <label for="pet-type"
                >宠物类型 <span class="required">*</span></label
              >
              <select id="pet-type" name="pet_type" required>
                <option value="">请选择</option>
                <option value="dog">狗</option>
                <option value="cat">猫</option>
                <option value="other">其他</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="pet-age"
                >宠物年龄 <span class="required">*</span></label
              >
              <input
                type="text"
                id="pet-age"
                name="pet_age"
                required
                placeholder="例如：2岁3个月"
              />
            </div>
            <div class="form-group">
              <label for="pet-gender"
                >性别 <span class="required">*</span></label
              >
              <select id="pet-gender" name="pet_gender" required>
                <option value="">请选择</option>
                <option value="male">公（未绝育）</option>
                <option value="female">母（未绝育）</option>
                <option value="neutered-male">公（已绝育）</option>
                <option value="neutered-female">母（已绝育）</option>
              </select>
            </div>
          </div>

          <h3>问诊信息</h3>
          <div class="form-group">
            <label for="consultation-type"
              >问诊类型 <span class="required">*</span></label
            >
            <select id="consultation-type" name="consultation_type" required>
              <option value="">请选择</option>
              <option value="text">图文咨询 (¥39.9)</option>
              <option value="phone">电话问诊 (¥99)</option>
              <option value="video">视频问诊 (¥159)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="doctor-select"
              >选择医生 <span class="required">*</span></label
            >
            <select id="doctor-select" name="doctor" required>
              <option value="">请选择</option>
              <option value="doctor1">
                王小明 兽医师（犬猫内科、皮肤病专家）
              </option>
              <option value="doctor2">
                李雨晴 兽医师（猫科疾病、急诊救护专家）
              </option>
              <option value="doctor3">
                张大山 兽医师（犬类骨科、手术专家）
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="symptom-description"
              >症状描述 <span class="required">*</span></label
            >
            <textarea
              id="symptom-description"
              name="symptom_description"
              rows="5"
              required
              placeholder="请详细描述宠物的症状、持续时间、异常行为等情况..."
            ></textarea>
          </div>

          <div class="form-group">
            <label>上传照片/视频（可选，最多5张）</label>
            <input
              type="file"
              name="medical_images"
              multiple
              accept="image/*,video/*"
            />
            <p class="form-text">
              上传清晰的症状照片或视频有助于医生做出更准确的诊断
            </p>
          </div>

          <div
            class="form-group"
            id="appointment-time-section"
            style="display: none"
          >
            <label for="appointment-time"
              >预约时间 <span class="required">*</span></label
            >
            <input
              type="datetime-local"
              id="appointment-time"
              name="appointment_time"
            />
            <p class="form-text">
              请选择您方便的时间，我们会在该时段为您安排电话/视频咨询
            </p>
          </div>

          <h3>联系方式</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="contact-name"
                >姓名 <span class="required">*</span></label
              >
              <input
                type="text"
                id="contact-name"
                name="contact_name"
                required
              />
            </div>
            <div class="form-group">
              <label for="contact-phone"
                >手机号码 <span class="required">*</span></label
              >
              <input
                type="tel"
                id="contact-phone"
                name="contact_phone"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" name="terms_agree" required />
              我已阅读并同意<a href="#">《在线问诊服务协议》</a>
            </label>
          </div>

          <button type="submit" class="btn">确认预约</button>
        </form>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-links">
          <div class="footer-section">
            <h3>关于我们</h3>
            <ul>
              <li><a href="about.html">平台介绍</a></li>
              <li><a href="about.html#team">团队成员</a></li>
              <li><a href="about.html#contact">联系我们</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>服务与支持</h3>
            <ul>
              <li><a href="faq.html">常见问题</a></li>
              <li><a href="terms.html">用户协议</a></li>
              <li><a href="privacy.html">隐私政策</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>联系方式</h3>
            <ul>
              <li><i class="bi bi-envelope"></i> contact@petadoption.com</li>
              <li><i class="bi bi-telephone"></i> 400-888-8888</li>
              <li><i class="bi bi-geo-alt"></i> 北京市海淀区XX路XX号</li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <p>&copy; 2023 宠爱有家 - 宠物领养平台 版权所有</p>
        </div>
      </div>
    </footer>

    <script src="../js/main.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 手风琴效果
        const accordionHeaders = document.querySelectorAll(".accordion-header");
        accordionHeaders.forEach((header) => {
          header.addEventListener("click", function () {
            const accordionItem = this.parentElement;
            const isActive = accordionItem.classList.contains("active");

            // 关闭所有项
            document.querySelectorAll(".accordion-item").forEach((item) => {
              item.classList.remove("active");
            });

            // 如果当前项未激活，则激活它
            if (!isActive) {
              accordionItem.classList.add("active");
            }
          });
        });

        // 问诊类型联动显示预约时间
        const consultationType = document.getElementById("consultation-type");
        const appointmentTimeSection = document.getElementById(
          "appointment-time-section"
        );

        if (consultationType && appointmentTimeSection) {
          consultationType.addEventListener("change", function () {
            const selectedValue = this.value;
            if (selectedValue === "phone" || selectedValue === "video") {
              appointmentTimeSection.style.display = "block";
              document
                .getElementById("appointment-time")
                .setAttribute("required", "required");
            } else {
              appointmentTimeSection.style.display = "none";
              document
                .getElementById("appointment-time")
                .removeAttribute("required");
            }
          });
        }

        // 预约表单提交
        const appointmentForm = document.querySelector(".appointment-form");
        if (appointmentForm) {
          appointmentForm.addEventListener("submit", function (e) {
            e.preventDefault();
            // 在真实应用中，这里会发送表单数据到服务器
            alert("预约提交成功！我们将尽快处理您的请求。");
            document
              .getElementById("appointment-modal")
              .classList.remove("show");
          });
        }
      });
    </script>
  </body>
</html>
